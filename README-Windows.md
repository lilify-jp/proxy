# Web Proxy - Windows版ガイド

このプロジェクトは、制限されたウェブサイトにアクセスするためのカスタマイズ可能なウェブプロキシです。Node.jsとExpressを使用して構築されています。

## 機能

- HTTP/HTTPSプロトコルの選択
- JavaScriptの削除オプション
- iframeの削除オプション
- カスタムUser-Agentの設定
- タイムアウト設定
- レスポンシブデザイン
- リダイレクト処理の改善
- フォーム送信のサポート

## インストール方法

1. [Node.js](https://nodejs.org/)をインストールします（LTS版推奨）
2. このフォルダ内の `start-proxy.bat` をダブルクリックします
3. ブラウザで `http://localhost:3000` にアクセスします

## 起動スクリプト

このプロジェクトには以下の起動スクリプトが含まれています：

- `start-proxy.bat` - 通常モードでプロキシを起動します
- `start-proxy-with-more-memory.bat` - 拡張メモリモード（4GB）でプロキシを起動します
- `restart-server.bat` - 実行中のプロキシサーバーを再起動します
- `auto-restart-proxy.bat` - プロキシサーバーが停止した場合に自動的に再起動します（推奨）

## トラブルシューティング

### エラーが時々発生する場合

以下の対処法を試してください：

1. **自動再起動モードを使用する**
   - `auto-restart-proxy.bat` を使用してサーバーを起動します
   - これにより、サーバーがクラッシュした場合でも自動的に再起動されます

2. **拡張メモリモードを使用する**
   - `start-proxy-with-more-memory.bat` を使用してサーバーを起動します
   - これにより、Node.jsのメモリ制限が4GBに増加します

3. **オプション設定を変更する**
   - 「スクリプトを削除」オプションをオンにしてみてください
   - タイムアウト値を増やしてみてください（60秒など）

4. **サーバーを手動で再起動する**
   - エラーが発生した場合は、`restart-server.bat` を実行してサーバーを再起動します

### リンクがプロキシを通さずに直接開く場合

一部のリンクがプロキシを通さずに直接開いてしまう場合は、以下の対処法を試してください：

1. 右クリックメニューを使用しない
   - リンクを右クリックして「新しいタブで開く」などを選択すると、プロキシを通さずに直接開く場合があります
   - 代わりに、リンクを左クリックしてプロキシを通してアクセスしてください

2. JavaScriptを有効にする
   - プロキシの機能はJavaScriptに依存しているため、ブラウザでJavaScriptが有効になっていることを確認してください

## よくある質問

### Q: サーバーが起動しない
A: Node.jsが正しくインストールされていることを確認してください。コマンドプロンプトで `node -v` を実行して、バージョンが表示されることを確認します。

### Q: 「EADDRINUSE」エラーが表示される
A: ポート3000が既に使用されています。他のアプリケーションを終了するか、`server.js` の `PORT` 変数を別の値（例：3001）に変更してください。

### Q: 大きなサイトにアクセスするとエラーが発生する
A: 拡張メモリモード（`start-proxy-with-more-memory.bat`）を使用してサーバーを起動してください。

### Q: サーバーが頻繁にクラッシュする
A: 自動再起動モード（`auto-restart-proxy.bat`）を使用してサーバーを起動してください。

## 注意事項

- このプロキシは教育目的で作成されています
- 機密情報（パスワードなど）を入力するサイトには使用しないでください
- すべてのウェブサイトが正しく表示されるとは限りません
- 一部のウェブサイトはプロキシの使用を検出し、アクセスをブロックする場合があります